{% if is_admin == True %}
  {% include 'base.html' with profile="/aky/admin/profile" home="/aky/admin" %}
{% else %}
  {% include 'base.html' with profile="/aky/etudiant/profile" home="/aky/etudiant" %}
{% endif %}{% load static %}


<style>
	.container {
		margin: 0 auto;
		width: 800px;
		margin-bottom: 90px;
		padding: 0 40px;
		padding-bottom: 60px;
		background: #eee;
		border-radius: 10px;
	}
	h1 {
		text-align: center;
	}
	.bloc-profile {
		display: flex;
		align-items: center;
		justify-content: center;
		margin-bottom: 30px;
	}
	h4 {
		margin-left: 20px;
	}
	h4::before {
		content: '@';
	}
	.profile_user {
		margin-top: 20px;
    		background-color: rgb(147, 137, 137);
    		padding: 2px;
    		width: 90px;
    		height: 90px;
    		border-radius: 50%;
    		display: flex;
    		justify-content: center;
    		align-items: center;
	}
	.profile_user img {
		width: 100%;
		height: 100%;
		border-radius: 50%;
	}
	.form-group {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 20px;
		margin-bottom: 20px;
	}
	.libelle {
		grid-column: span 1;
		align-self: center;
		font-size: 17px;
	}
	.form-control {
		padding: 5px;
		font-size: 17px;
	}
</style>
<div class="container">
	<h1 class="">Paramètres du compte</h1>
	<div class="bloc-profile">
		<div class="profile_user">
			<img src="{{ profile.photo_profile.url }}" alt="Image">
		</div>
		<h4 class="username">{{ user.username }}</h4>
	</div>
	<div style="border: 1px solid black; opacity:0.2; margin-bottom: 30px;"></div>
	<form action="profile" method="POST" enctype="multipart/form-data">
		{% csrf_token %}
		<div class="row">
		{% if is_admin == False %}
			<div class="form-group">
				<label class="libelle">N° carte</label>
				<input type="text" class="form-control" value="{{ profile.no_carte }}" disabled>
			</div>
		{% else %}
			<div class="form-group">
				<label class="libelle">Titre</label>
				<input type="text" class="form-control" value="{{ profile.titre }}" disabled>
			</div>
		{% endif %}
			<div class="form-group">
				<label class="libelle">Prénoms</label>
				<input type="text" class="form-control" value="{{ user.first_name }}" disabled>
			</div>
			<div class="form-group">
				<label class="libelle">Nom</label>
				<input type="text" name="lastname" class="form-control" value="{{ user.last_name }}" disabled>
			</div>
			<div class="form-group">
				<label class="libelle">Email</label>
				<input type="text" name="email" class="form-control" value="{{ user.email }}" disabled>
			</div>
			<div class="form-group">
				<label class="libelle">Etablissement</label>
				<input type="text" class="form-control" value="{{ etablissement.libelle }}" disabled>
			</div>
			{% if is_admin == False %}
			<div class="form-group">
				<label class="libelle">Parcours</label>
				<input type="text" class="form-control" value="{{ parcours.libelle }}" disabled>
			</div>
			{% else %}
				{% for parc in parcours %}
				<div class="form-group">
					<label class="libelle">Parcours {{ parc.num }}</label>
					<input type="text" class="form-control" value="{{ parc.libelle }}" disabled>
				</div>
				{% endfor %}
			{% endif %}
		</div>
	</form>
</div>

{% include 'footer.html' %}